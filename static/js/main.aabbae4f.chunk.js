(this["webpackJsonpfront-challenge-spacex"]=this["webpackJsonpfront-challenge-spacex"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(10);var a=n(2),c=n.n(a),r=n(9),s=n.n(r),i=n(3),o=(n(15),n(16),n(1)),l=function(e){var t=e.text,n=e.icon,a=e.type,c=e.className,r=e.onClick;return c="button".concat(" ",c||"").concat(" ",!n||t&&0!==t.length?"":"icon"),Object(o.jsxs)("button",{type:a,className:c,onClick:r,children:[n&&n({}),t]})},u=n(6),j=n(5),h=n.n(j),d=(n(19),function(e){var t=e.onSubmit,n=e.onClose;return Object(o.jsxs)("form",{onSubmit:t,className:"search-form",children:[Object(o.jsx)("h4",{children:"Search last launches"}),Object(o.jsx)(l,{icon:u.a,onClick:n,type:"button",className:"close-form-button danger"}),Object(o.jsxs)("label",{children:["Find",Object(o.jsx)("select",{className:"search-latest-launches",children:function(){for(var e=[],t=10;t<100;t+=10)e.push(Object(o.jsx)("option",{value:t,children:t},h()()));return e}()})," ","last launches"]}),Object(o.jsx)(l,{text:"Search",type:"submit",className:"search-form-button"})]})}),f=(n(22),function(e){var t=e.onSubmit,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{className:"app-title",children:"Last Launches \ud83d\ude80"}),Object(o.jsx)("p",{className:"app-description",children:"Find out what happened on the latest SpaceX launches. Click on a card to see more"}),r&&Object(o.jsx)(d,{onSubmit:function(e){s((function(){return!1})),t(e)},onClose:function(){s((function(){return!1}))}}),!r&&Object(o.jsx)(l,{onClick:function(){s((function(){return!0}))},text:"New search",className:"search-button"})]})}),b=function(e){var t=e.text,n=e.className,a=e.href,c=e.rel,r=e.target,s=e.onClick;return Object(o.jsx)("a",{className:"button "+(n||""),onClick:s,href:a,rel:c,target:r,children:t})},p=(n(23),function(e){var t=e.image,n=e.name,c=e.details,r=e.date,s=e.external_link,j=Object(a.useState)(!1),h=Object(i.a)(j,2),d=h[0],f=h[1],p=function(e){f((function(e){return!e})),e.stopPropagation()};return Object(o.jsxs)("div",{onClick:p,className:d?"card expanded":"card",children:[d&&Object(o.jsx)(l,{icon:u.a,onClick:p,type:"button",className:"close-card-button danger"}),d&&t&&Object(o.jsx)("div",{className:"card-image-container",children:Object(o.jsx)("img",{className:"card-image",src:t,alt:n})}),n&&Object(o.jsx)("h4",{className:"card-name",children:n}),c&&Object(o.jsx)("p",{className:"card-details",children:d?c:Array.from(c).splice(0,120).join("").concat("...")}),r&&Object(o.jsx)("p",{className:"card-date",children:r}),d&&Object(o.jsx)(b,{className:"card-link-button",onClick:function(e){return e.stopPropagation()},text:"See more",href:s,rel:"noreferrer",target:"_blank"})]})}),m=function(e){var t=e.launches.map((function(e){return Object(o.jsx)(p,{image:e.image,name:e.name,details:e.details,date:e.date,external_link:e.ref_link},h()())}));return 0===t.length?Object(o.jsx)("p",{children:"Loading data..."}):Object(o.jsx)("ul",{className:"card-list",children:t})},x=n(4),O=n.n(x),k=n(8);function g(e){return v.apply(this,arguments)}function v(){return(v=Object(k.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spacex.land/graphql/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.data.launchesPast);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(k.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=0)){e.next=2;break}return e.abrupt("return",[]);case 2:return n="\n  query {\n  launchesPast(limit: ".concat(t,") {\n    mission_name\n    launch_date_local\n    links {\n      article_link\n      video_link\n      flickr_images\n    }\n    details\n  }\n}\n"),e.prev=3,e.next=6,g(n);case 6:return a=e.sent,e.abrupt("return",S(a));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function S(e){return e.map((function(e){var t="https://i.imgur.com/6Cv9SoC.jpg",n=e.links.article_link||e.links.video_link,a=e.links.flickr_images.filter((function(e){return e}));return a.length>0&&(t=a.sort((function(){return.5-Math.random()}))[0]),{details:e.details||"no details yet",name:e.mission_name,image:t,ref_link:n,date:new Date(e.launch_date_local).toDateString()}}))}var y=function(){var e=Object(a.useState)(10),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(i.a)(r,2),l=s[0],u=s[1];Object(a.useEffect)((function(){u((function(){return[]})),function(e){return N.apply(this,arguments)}(n).then((function(e){u((function(){return e}))}))}),[n]);return Object(o.jsxs)("main",{children:[Object(o.jsx)(f,{onSubmit:function(e){e.preventDefault();var t=e.target.querySelector(".search-latest-launches");t&&c((function(){return parseInt(t.value)}))}}),Object(o.jsx)(m,{launches:l})]})};n(25);s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.aabbae4f.chunk.js.map