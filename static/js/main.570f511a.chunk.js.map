{"version":3,"sources":["api/query_data.js","components/LinkButton.js","components/Card.js","pages/Mission.js","components/Button.js","components/Form.js","components/Header.js","components/CardList.js","pages/Dashboard.js","App.js","index.js"],"names":["QUERY_API_URL","LAUNCH_FIELDS","fetchData","query","a","fetch","method","headers","body","JSON","stringify","data","json","limit","launches","translateLaunchesObject","launchesPast","id","launch","translateLaunchObject","image","ref_link","links","article_link","video_link","images","flickr_images","filter","img","length","sort","Math","random","details","name","mission_name","date","Date","launch_date_local","toDateString","map","LinkButton","text","className","href","rel","target","onClick","Card","external_link","expanded","history","useHistory","push","src","alt","Array","from","splice","join","concat","Mission","missionContent","useParams","useState","setLaunch","fetchLaunch","getLaunch","then","useEffect","Object","keys","to","Button","icon","type","Form","onSubmit","onClose","launchesLimit","setLaunchesLimit","bind","IconX","onChange","event","parseInt","value","options","i","uniqid","generateSelectOptions","Header","showForm","setShowForm","preventDefault","IconSearch","CardList","cards","Dashboard","App","latestLaunchesLimit","setLatestLaunchesLimit","setLaunches","getLaunches","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.570f511a.chunk.js","sourcesContent":["const DEFAULT_IMAGE = 'https://i.imgur.com/6Cv9SoC.jpg'\r\nconst QUERY_API_URL = 'https://api.spacex.land/graphql/'\r\nconst LAUNCH_FIELDS = `\r\n    id\r\n    mission_name\r\n    launch_date_local\r\n    links {\r\n      article_link\r\n      video_link\r\n      flickr_images\r\n    }\r\n    details\r\n  `\r\n\r\nasync function fetchData (query) {\r\n  let data = await fetch(QUERY_API_URL, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      query\r\n    })\r\n  })\r\n\r\n  const json = await data.json()\r\n  return json.data\r\n}\r\n\r\nasync function getLaunches (limit) {\r\n  if (limit <= 0) return []\r\n\r\n  const query = `\r\n  query {\r\n    launchesPast(limit: ${limit}) {\r\n      ${LAUNCH_FIELDS}\r\n    }\r\n  }\r\n  `\r\n  try {\r\n    const launches = await fetchData(query)\r\n    return translateLaunchesObject(launches.launchesPast)\r\n  } catch (err) {\r\n    return []\r\n  }\r\n}\r\n\r\nasync function getLaunch (id) {\r\n  if (!id) return {}\r\n\r\n  const query = `\r\n    query {\r\n      launch(id: ${id}) {\r\n        ${LAUNCH_FIELDS}\r\n    }\r\n  }\r\n  `\r\n  try {\r\n    const launch = await fetchData(query)\r\n    return translateLaunchObject(launch.launch)\r\n  } catch (err) {\r\n    return {}\r\n  }\r\n}\r\n\r\nfunction translateLaunchObject (launch) {\r\n  let image = DEFAULT_IMAGE\r\n  const ref_link = launch.links.article_link || launch.links.video_link\r\n  const images = launch.links.flickr_images.filter(img => img)\r\n  if (images.length > 0) {\r\n    image = images.sort(() => 0.5 - Math.random())[0]\r\n  }\r\n\r\n  return {\r\n    details: launch.details || 'no details yet',\r\n    name: launch.mission_name,\r\n    image,\r\n    ref_link,\r\n    date: new Date(launch.launch_date_local).toDateString(),\r\n    id: launch.id\r\n  }\r\n}\r\n\r\nfunction translateLaunchesObject (launches) {\r\n  return launches.map(launch => translateLaunchObject(launch))\r\n}\r\n\r\nexport { getLaunches, getLaunch }\r\n","const LinkButton = ({ text, className, href, rel, target, onClick }) => {\r\n  return (\r\n    <a\r\n      className={'button ' + (className || '')}\r\n      onClick={onClick}\r\n      href={href}\r\n      rel={rel}\r\n      target={target}\r\n    >\r\n      {text}\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default LinkButton\r\n","import { useHistory } from 'react-router-dom'\r\nimport LinkButton from './LinkButton'\r\nimport './../styles/Card.css'\r\n\r\nconst Card = ({ id, image, name, details, date, external_link, expanded }) => {\r\n  const history = useHistory()\r\n\r\n  const onClick = () => {\r\n    if (expanded) return\r\n    history.push(`/mission/${id}`)\r\n  }\r\n\r\n  function getDetails () {\r\n    if (expanded) return details\r\n    return Array.from(details)\r\n      .splice(0, 120)\r\n      .join('')\r\n      .concat('...')\r\n  }\r\n\r\n  return (\r\n    <div onClick={onClick} className={expanded ? 'card expanded' : 'card'}>\r\n      {expanded && image && (\r\n        <div className='card-image-container'>\r\n          <img className='card-image' src={image} alt={name} />\r\n        </div>\r\n      )}\r\n      {name && <h4 className='card-name'>{name}</h4>}\r\n      {details && <p className='card-details'>{getDetails()}</p>}\r\n      {date && <p className='card-date'>{date}</p>}\r\n      {expanded && (\r\n        <LinkButton\r\n          className='card-link-button'\r\n          text='See more'\r\n          href={external_link}\r\n          rel='noreferrer'\r\n          target='_blank'\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import { useEffect, useState } from 'react'\r\nimport { IconArrowBack } from '@tabler/icons'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { getLaunch } from './../api/query_data'\r\nimport Card from './../components/Card'\r\nimport './../styles/Mission.css'\r\n\r\nconst Mission = () => {\r\n  const { id } = useParams()\r\n  const [launch, setLaunch] = useState({})\r\n\r\n  const fetchLaunch = () => {\r\n    getLaunch(id).then(data => {\r\n      setLaunch(data)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchLaunch()\r\n  // eslint-disable-next-line\r\n  }, [id])\r\n\r\n  let missionContent\r\n\r\n  if (launch && Object.keys(launch).length > 0) {\r\n    missionContent = (\r\n      <Card\r\n        expanded={true}\r\n        image={launch.image}\r\n        name={launch.name}\r\n        details={launch.details}\r\n        date={launch.date}\r\n        external_link={launch.ref_link}\r\n      />\r\n    )\r\n  } else {\r\n    missionContent = <p>Mission not found.</p>\r\n  }\r\n\r\n  return (\r\n    <section className='mission-section'>\r\n      <Link to='/' className='button mission-back-btn'>\r\n        <IconArrowBack />\r\n        back to home\r\n      </Link>\r\n      {missionContent}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Mission\r\n","import './../styles/Button.css'\r\nimport './../styles/IconButton.css'\r\n\r\nconst Button = ({ text, icon, type, className, onClick }) => {\r\n  className = 'button'\r\n    .concat(' ', className || '')\r\n    .concat(' ', icon && (!text || text.length === 0) ? 'icon' : '')\r\n\r\n  return (\r\n    <button type={type} className={className} onClick={onClick}>\r\n      {icon && icon({})}\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import Button from './Button'\r\nimport { IconX } from '@tabler/icons'\r\nimport uniqid from 'uniqid'\r\nimport { useState } from 'react'\r\nimport './../styles/Form.css'\r\n\r\nconst Form = ({ onSubmit, onClose }) => {\r\n  const [launchesLimit, setLaunchesLimit] = useState(10)\r\n\r\n  const changeLaunchesLimit = event => {\r\n    const limit = parseInt(event.target.value) || 0\r\n    setLaunchesLimit(limit)\r\n  }\r\n\r\n  function generateSelectOptions () {\r\n    let options = []\r\n    for (let i = 10; i <= 100; i += 10) {\r\n      options.push(\r\n        <option key={uniqid()} value={i}>\r\n          {i}\r\n        </option>\r\n      )\r\n    }\r\n    return options\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit.bind(null, launchesLimit)} className='search-form'>\r\n      <h4>Search last launches</h4>\r\n      <Button\r\n        icon={IconX}\r\n        onClick={onClose}\r\n        type='button'\r\n        className='close-form-button danger'\r\n      />\r\n      <label>\r\n        Find\r\n        <select\r\n          onChange={changeLaunchesLimit}\r\n          value={launchesLimit}\r\n          className='search-latest-launches'\r\n        >\r\n          {generateSelectOptions()}\r\n        </select>\r\n        last launches\r\n      </label>\r\n      <Button text='Search' type='submit' className='search-form-button' />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import { useState } from 'react'\r\nimport Button from './Button'\r\nimport Form from './Form'\r\nimport { IconSearch } from '@tabler/icons'\r\nimport './../styles/Header.css'\r\n\r\nconst Header = ({ onSubmit }) => {\r\n  const [showForm, setShowForm] = useState(false)\r\n\r\n  const handleSubmit = (launchesLimit, event) => {\r\n    setShowForm(false)\r\n    event.preventDefault()\r\n    onSubmit(launchesLimit)\r\n  }\r\n\r\n  const onHeaderButtonClick = () => {\r\n    setShowForm(true)\r\n  }\r\n\r\n  const onCloseForm = () => {\r\n    setShowForm(false)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <h1 className='app-title'>Last Launches ðŸš€</h1>\r\n      <p className='app-description'>\r\n        Find out what happened on the latest SpaceX launches. Click on a card to\r\n        see more\r\n      </p>\r\n      {showForm && <Form onSubmit={handleSubmit} onClose={onCloseForm} />}\r\n      {!showForm && (\r\n        <Button\r\n          onClick={onHeaderButtonClick}\r\n          text='New search'\r\n          className='search-button'\r\n          icon={IconSearch}\r\n        />\r\n      )}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import uniqid from 'uniqid'\r\nimport Card from './Card'\r\n\r\nconst CardList = ({ launches }) => {\r\n  let cards = launches.map(launch => {\r\n    return (\r\n      <Card\r\n        id={launch.id}\r\n        expanded={false}\r\n        image={launch.image}\r\n        name={launch.name}\r\n        details={launch.details}\r\n        date={launch.date}\r\n        external_link={launch.ref_link}\r\n        key={uniqid()}\r\n      />\r\n    )\r\n  })\r\n\r\n  if (cards.length === 0) {\r\n    return <p>Loading data...</p>\r\n  }\r\n\r\n  return <ul className='card-list'>{cards}</ul>\r\n}\r\n\r\nexport default CardList\r\n","import Header from './../components/Header'\r\nimport CardList from './../components/CardList'\r\n\r\nconst Dashboard = ({ onSubmit, launches }) => {\r\n  return (\r\n    <section className='dashboard-section'>\r\n      <Header onSubmit={onSubmit} />\r\n      <CardList launches={launches} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n","import { useState, useEffect } from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { getLaunches } from './api/query_data'\r\nimport Mission from './pages/Mission'\r\nimport Dashboard from './pages/Dashboard'\r\n\r\nconst App = () => {\r\n  const [latestLaunchesLimit, setLatestLaunchesLimit] = useState(10)\r\n  const [launches, setLaunches] = useState([])\r\n\r\n  useEffect(() => {\r\n    setLaunches([])\r\n    getLaunches(latestLaunchesLimit).then(data => setLaunches(data))\r\n  }, [latestLaunchesLimit])\r\n\r\n  const onUpdateLatestLaunchesLimit = launchesLimit => {\r\n    setLatestLaunchesLimit(launchesLimit)\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <Dashboard\r\n            launches={launches}\r\n            onSubmit={onUpdateLatestLaunchesLimit}\r\n          />\r\n        </Route>\r\n        <Route path='/mission/:id'>\r\n          <Mission launches={launches} />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import 'reset-css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './styles/index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}