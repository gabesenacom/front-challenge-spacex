{"version":3,"sources":["components/Button.js","components/Form.js","components/Header.js","components/LinkButton.js","components/Card.js","components/CardList.js","api/query_data.js","App.js","index.js"],"names":["Button","text","icon","type","className","onClick","concat","length","Form","onSubmit","onClose","IconX","options","i","push","value","uniqid","generateSelectOptions","Header","useState","showForm","setShowForm","event","LinkButton","href","rel","target","Card","image","name","details","date","external_link","expanded","setExpanded","prevExpanded","stopPropagation","src","alt","Array","from","splice","join","CardList","cards","launches","map","launch","ref_link","fetchLaunches","query","a","fetch","method","headers","body","JSON","stringify","data","json","launchesPast","limit","translateLaunchesObject","links","article_link","video_link","ships","filter","ship","sort","Math","random","mission_name","Date","launch_date_local","toDateString","App","latestLaunchesLimit","setLatestLaunchesLimit","setLaunches","useEffect","getLaunches","then","preventDefault","querySelector","parseInt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8104812f.chunk.js","sourcesContent":["import './../styles/Button.css'\r\nimport './../styles/IconButton.css'\r\n\r\nconst Button = ({ text, icon, type, className, onClick }) => {\r\n  className = 'button'\r\n    .concat(' ', className || '')\r\n    .concat(' ', icon && (!text || text.length === 0) ? 'icon' : '')\r\n\r\n  return (\r\n    <button type={type} className={className} onClick={onClick}>\r\n      {icon && icon({})}\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import Button from './Button'\r\nimport { IconX } from '@tabler/icons'\r\nimport uniqid from 'uniqid'\r\nimport './../styles/Form.css'\r\n\r\nconst Form = ({ onSubmit, onClose }) => {\r\n  function generateSelectOptions () {\r\n    let options = []\r\n    for (let i = 10; i < 100; i += 10) {\r\n      options.push(\r\n        <option key={uniqid()} value={i}>\r\n          {i}\r\n        </option>\r\n      )\r\n    }\r\n    return options\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className='search-form'>\r\n      <h4>Search last launches</h4>\r\n      <Button\r\n        icon={IconX}\r\n        onClick={onClose}\r\n        type='button'\r\n        className='close-form-button danger'\r\n      />\r\n      <label>\r\n        Find\r\n        <select className='search-latest-launches'>\r\n          {generateSelectOptions()}\r\n        </select>{' '}\r\n        last launches\r\n      </label>\r\n      <Button text='Search' type='submit' className='search-form-button' />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import { useState } from 'react'\r\nimport Button from './Button'\r\nimport Form from './Form'\r\nimport './../styles/Header.css'\r\n\r\nconst Header = ({ onSubmit }) => {\r\n  const [showForm, setShowForm] = useState(false)\r\n\r\n  const handleSubmit = event => {\r\n    setShowForm(() => false)\r\n    onSubmit(event)\r\n  }\r\n\r\n  const onHeaderButtonClick = () => {\r\n    setShowForm(() => true)\r\n  }\r\n\r\n  const onCloseForm = () => {\r\n    setShowForm(() => false)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <h1 className='app-title'>Last Launches ðŸš€</h1>\r\n      <p className='app-description'>\r\n        Find out what happened on the latest SpaceX launches. Click on a card to\r\n        see more\r\n      </p>\r\n      {showForm && <Form onSubmit={handleSubmit} onClose={onCloseForm} />}\r\n      {!showForm && (\r\n        <Button\r\n          onClick={onHeaderButtonClick}\r\n          text='New search'\r\n          className='search-button'\r\n        />\r\n      )}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","const LinkButton = ({ text, className, href, rel, target, onClick }) => {\r\n  return (\r\n    <a\r\n      className={'button ' + (className || '')}\r\n      onClick={onClick}\r\n      href={href}\r\n      rel={rel}\r\n      target={target}\r\n    >\r\n      {text}\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default LinkButton\r\n","import { useState } from 'react'\r\nimport { IconX } from '@tabler/icons'\r\nimport LinkButton from './LinkButton'\r\nimport Button from './Button'\r\nimport './../styles/Card.css'\r\n\r\nconst Card = ({ image, name, details, date, external_link }) => {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  const onClick = event => {\r\n    setExpanded(prevExpanded => !prevExpanded)\r\n    event.stopPropagation()\r\n  }\r\n\r\n  function getDetails () {\r\n    if (expanded) return details\r\n    return Array.from(details)\r\n      .splice(0, 120)\r\n      .join('')\r\n      .concat('...')\r\n  }\r\n\r\n  return (\r\n    <div onClick={onClick} className={expanded ? 'card expanded' : 'card'}>\r\n      {expanded && (\r\n        <Button\r\n          icon={IconX}\r\n          onClick={onClick}\r\n          type='button'\r\n          className='close-card-button danger'\r\n        />\r\n      )}\r\n      {expanded && image && <img className='card-image' src={image} alt={name} />}\r\n      {name && <h4 className='card-name'>{name}</h4>}\r\n      {details && <p className='card-details'>{getDetails()}</p>}\r\n      {date && <p className='card-date'>{date}</p>}\r\n      {expanded && (\r\n        <LinkButton\r\n          className='card-link-button'\r\n          onClick={event => event.stopPropagation()}\r\n          text='See more'\r\n          href={external_link}\r\n          rel='noreferrer'\r\n          target='_blank'\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import uniqid from 'uniqid'\r\nimport Card from './Card'\r\n\r\nconst CardList = ({ launches }) => {\r\n  let cards = launches.map(launch => {\r\n    return (\r\n      <Card\r\n        image={launch.image}\r\n        name={launch.name}\r\n        details={launch.details}\r\n        date={launch.date}\r\n        external_link={launch.ref_link}\r\n        key={uniqid()}\r\n      />\r\n    )\r\n  })\r\n\r\n  if (cards.length === 0) {\r\n    return <p>Loading data...</p>\r\n  }\r\n\r\n  return <ul className='card-list'>{cards}</ul>\r\n}\r\n\r\nexport default CardList\r\n","const DEFAULT_IMAGE = 'https://i.imgur.com/6Cv9SoC.jpg'\r\n\r\nasync function fetchLaunches (query) {\r\n  let data = await fetch('https://api.spacex.land/graphql/', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      query\r\n    })\r\n  })\r\n\r\n  const json = await data.json()\r\n  return json.data.launchesPast\r\n}\r\n\r\nasync function getLaunches (limit) {\r\n  if (limit <= 0) return []\r\n\r\n  const query = `\r\n  query {\r\n  launchesPast(limit: ${limit}) {\r\n    mission_name\r\n    launch_date_local\r\n    links {\r\n      article_link\r\n      video_link\r\n    }\r\n    ships {\r\n      image\r\n    }\r\n    details\r\n  }\r\n}\r\n`\r\n  try {\r\n    const launches = await fetchLaunches(query)\r\n    return translateLaunchesObject(launches)\r\n  } catch (err) {\r\n    return []\r\n  }\r\n}\r\n\r\nfunction translateLaunchesObject (launches) {\r\n  return launches.map(launch => {\r\n    let image = DEFAULT_IMAGE\r\n    let ref_link = launch.links.article_link || launch.links.video_link\r\n    let ships = launch.ships.filter(ship => ship)\r\n    if (ships.length > 0) {\r\n      image = ships.sort(() => 0.5 - Math.random())[0].image\r\n    }\r\n\r\n    return {\r\n      details: launch.details || 'no details yet',\r\n      name: launch.mission_name,\r\n      image,\r\n      ref_link,\r\n      date: new Date(launch.launch_date_local).toDateString()\r\n    }\r\n  })\r\n}\r\n\r\nexport { fetchLaunches, getLaunches }\r\n","import Header from './components/Header'\r\nimport CardList from './components/CardList'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { getLaunches } from './api/query_data'\r\n\r\nconst App = () => {\r\n  const [latestLaunchesLimit, setLatestLaunchesLimit] = useState(10)\r\n  const [launches, setLaunches] = useState([])\r\n\r\n  useEffect(() => {\r\n    setLaunches(() => [])\r\n    getLaunches(latestLaunchesLimit).then(data => {\r\n      setLaunches(() => data)\r\n    })\r\n  }, [latestLaunchesLimit])\r\n\r\n  const onUpdateLatestLaunchesLimit = event => {\r\n    event.preventDefault()\r\n    const target = event.target.querySelector('.search-latest-launches')\r\n    if (target) {\r\n      setLatestLaunchesLimit(() => parseInt(target.value))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Header onSubmit={onUpdateLatestLaunchesLimit} />\r\n      <CardList launches={launches} />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import 'reset-css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './styles/index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}