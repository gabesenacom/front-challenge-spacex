{"version":3,"sources":["components/Button.js","components/Form.js","components/Header.js","components/LinkButton.js","components/Card.js","components/CardList.js","api/query_data.js","App.js","index.js"],"names":["Button","text","icon","type","className","onClick","concat","length","Form","onSubmit","onClose","useState","launchesLimit","setLaunchesLimit","bind","IconX","onChange","event","limit","parseInt","target","value","options","i","push","uniqid","generateSelectOptions","Header","showForm","setShowForm","preventDefault","LinkButton","href","rel","Card","image","name","details","date","external_link","expanded","setExpanded","prevExpanded","stopPropagation","src","alt","Array","from","splice","join","CardList","cards","launches","map","launch","ref_link","fetchLaunches","query","a","fetch","method","headers","body","JSON","stringify","data","json","launchesPast","translateLaunchesObject","links","article_link","video_link","images","flickr_images","filter","img","sort","Math","random","mission_name","Date","launch_date_local","toDateString","App","latestLaunchesLimit","setLatestLaunchesLimit","setLaunches","useEffect","getLaunches","then","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a083deb1.chunk.js","sourcesContent":["import './../styles/Button.css'\r\nimport './../styles/IconButton.css'\r\n\r\nconst Button = ({ text, icon, type, className, onClick }) => {\r\n  className = 'button'\r\n    .concat(' ', className || '')\r\n    .concat(' ', icon && (!text || text.length === 0) ? 'icon' : '')\r\n\r\n  return (\r\n    <button type={type} className={className} onClick={onClick}>\r\n      {icon && icon({})}\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import Button from './Button'\r\nimport { IconX } from '@tabler/icons'\r\nimport uniqid from 'uniqid'\r\nimport { useState } from 'react'\r\nimport './../styles/Form.css'\r\n\r\nconst Form = ({ onSubmit, onClose }) => {\r\n  const [launchesLimit, setLaunchesLimit] = useState(10)\r\n\r\n  const changeLaunchesLimit = event => {\r\n    const limit = parseInt(event.target.value) || 0\r\n    setLaunchesLimit(limit)\r\n  }\r\n\r\n  function generateSelectOptions () {\r\n    let options = []\r\n    for (let i = 10; i <= 100; i += 10) {\r\n      options.push(\r\n        <option key={uniqid()} value={i}>\r\n          {i}\r\n        </option>\r\n      )\r\n    }\r\n    return options\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit.bind(null, launchesLimit)} className='search-form'>\r\n      <h4>Search last launches</h4>\r\n      <Button\r\n        icon={IconX}\r\n        onClick={onClose}\r\n        type='button'\r\n        className='close-form-button danger'\r\n      />\r\n      <label>\r\n        Find\r\n        <select\r\n          onChange={changeLaunchesLimit}\r\n          value={launchesLimit}\r\n          className='search-latest-launches'\r\n        >\r\n          {generateSelectOptions()}\r\n        </select>\r\n        last launches\r\n      </label>\r\n      <Button text='Search' type='submit' className='search-form-button' />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import { useState } from 'react'\r\nimport Button from './Button'\r\nimport Form from './Form'\r\nimport './../styles/Header.css'\r\n\r\nconst Header = ({ onSubmit }) => {\r\n  const [showForm, setShowForm] = useState(false)\r\n\r\n  const handleSubmit = (launchesLimit, event) => {\r\n    setShowForm(false)\r\n    event.preventDefault()\r\n    onSubmit(launchesLimit)\r\n  }\r\n\r\n  const onHeaderButtonClick = () => {\r\n    setShowForm(true)\r\n  }\r\n\r\n  const onCloseForm = () => {\r\n    setShowForm(false)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <h1 className='app-title'>Last Launches ðŸš€</h1>\r\n      <p className='app-description'>\r\n        Find out what happened on the latest SpaceX launches. Click on a card to\r\n        see more\r\n      </p>\r\n      {showForm && <Form onSubmit={handleSubmit} onClose={onCloseForm} />}\r\n      {!showForm && (\r\n        <Button\r\n          onClick={onHeaderButtonClick}\r\n          text='New search'\r\n          className='search-button'\r\n        />\r\n      )}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","const LinkButton = ({ text, className, href, rel, target, onClick }) => {\r\n  return (\r\n    <a\r\n      className={'button ' + (className || '')}\r\n      onClick={onClick}\r\n      href={href}\r\n      rel={rel}\r\n      target={target}\r\n    >\r\n      {text}\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default LinkButton\r\n","import { useState } from 'react'\r\nimport { IconX } from '@tabler/icons'\r\nimport LinkButton from './LinkButton'\r\nimport Button from './Button'\r\nimport './../styles/Card.css'\r\n\r\nconst Card = ({ image, name, details, date, external_link }) => {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  const onClick = event => {\r\n    setExpanded(prevExpanded => !prevExpanded)\r\n    event.stopPropagation()\r\n  }\r\n\r\n  function getDetails () {\r\n    if (expanded) return details\r\n    return Array.from(details)\r\n      .splice(0, 120)\r\n      .join('')\r\n      .concat('...')\r\n  }\r\n\r\n  return (\r\n    <div onClick={onClick} className={expanded ? 'card expanded' : 'card'}>\r\n      {expanded && (\r\n        <Button\r\n          icon={IconX}\r\n          onClick={onClick}\r\n          type='button'\r\n          className='close-card-button danger'\r\n        />\r\n      )}\r\n      {expanded && image && (\r\n        <div className='card-image-container'>\r\n          <img className='card-image' src={image} alt={name} />\r\n        </div>\r\n      )}\r\n      {name && <h4 className='card-name'>{name}</h4>}\r\n      {details && <p className='card-details'>{getDetails()}</p>}\r\n      {date && <p className='card-date'>{date}</p>}\r\n      {expanded && (\r\n        <LinkButton\r\n          className='card-link-button'\r\n          onClick={event => event.stopPropagation()}\r\n          text='See more'\r\n          href={external_link}\r\n          rel='noreferrer'\r\n          target='_blank'\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import uniqid from 'uniqid'\r\nimport Card from './Card'\r\n\r\nconst CardList = ({ launches }) => {\r\n  let cards = launches.map(launch => {\r\n    return (\r\n      <Card\r\n        image={launch.image}\r\n        name={launch.name}\r\n        details={launch.details}\r\n        date={launch.date}\r\n        external_link={launch.ref_link}\r\n        key={uniqid()}\r\n      />\r\n    )\r\n  })\r\n\r\n  if (cards.length === 0) {\r\n    return <p>Loading data...</p>\r\n  }\r\n\r\n  return <ul className='card-list'>{cards}</ul>\r\n}\r\n\r\nexport default CardList\r\n","const DEFAULT_IMAGE = 'https://i.imgur.com/6Cv9SoC.jpg'\r\n\r\nasync function fetchLaunches (query) {\r\n  let data = await fetch('https://api.spacex.land/graphql/', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      query\r\n    })\r\n  })\r\n\r\n  const json = await data.json()\r\n  return json.data.launchesPast\r\n}\r\n\r\nasync function getLaunches (limit) {\r\n  if (limit <= 0) return []\r\n\r\n  const query = `\r\n  query {\r\n  launchesPast(limit: ${limit}) {\r\n    mission_name\r\n    launch_date_local\r\n    links {\r\n      article_link\r\n      video_link\r\n      flickr_images\r\n    }\r\n    details\r\n  }\r\n}\r\n`\r\n  try {\r\n    const launches = await fetchLaunches(query)\r\n    return translateLaunchesObject(launches)\r\n  } catch (err) {\r\n    return []\r\n  }\r\n}\r\n\r\nfunction translateLaunchesObject (launches) {\r\n  return launches.map(launch => {\r\n    let image = DEFAULT_IMAGE\r\n    const ref_link = launch.links.article_link || launch.links.video_link\r\n    const images = launch.links.flickr_images.filter(img => img)\r\n    if (images.length > 0) {\r\n      image = images.sort(() => 0.5 - Math.random())[0]\r\n    }\r\n\r\n    return {\r\n      details: launch.details || 'no details yet',\r\n      name: launch.mission_name,\r\n      image,\r\n      ref_link,\r\n      date: new Date(launch.launch_date_local).toDateString()\r\n    }\r\n  })\r\n}\r\n\r\nexport { fetchLaunches, getLaunches }\r\n","import Header from './components/Header'\r\nimport CardList from './components/CardList'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { getLaunches } from './api/query_data'\r\n\r\nconst App = () => {\r\n  const [latestLaunchesLimit, setLatestLaunchesLimit] = useState(10)\r\n  const [launches, setLaunches] = useState([])\r\n\r\n  useEffect(() => {\r\n    setLaunches([])\r\n    getLaunches(latestLaunchesLimit).then(data => setLaunches(data))\r\n  }, [latestLaunchesLimit])\r\n\r\n  const onUpdateLatestLaunchesLimit = launchesLimit => {\r\n    setLatestLaunchesLimit(launchesLimit)\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Header onSubmit={onUpdateLatestLaunchesLimit} />\r\n      <CardList launches={launches} />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import 'reset-css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './styles/index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}