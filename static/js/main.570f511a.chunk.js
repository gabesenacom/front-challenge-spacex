(this["webpackJsonpfront-challenge-spacex"]=this["webpackJsonpfront-challenge-spacex"]||[]).push([[0],{26:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);t(19);var a=t(0),c=t.n(a),r=t(16),s=t.n(r),i=t(5),u=t(9),l=t(2),o=t(6),j=t.n(o),d=t(11),b="https://api.spacex.land/graphql/",h="\n    id\n    mission_name\n    launch_date_local\n    links {\n      article_link\n      video_link\n      flickr_images\n    }\n    details\n  ";function f(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(j.a.mark((function e(n){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(d.a)(j.a.mark((function e(n){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<=0)){e.next=2;break}return e.abrupt("return",[]);case 2:return t="\n  query {\n    launchesPast(limit: ".concat(n,") {\n      ").concat(h,"\n    }\n  }\n  "),e.prev=3,e.next=6,f(t);case 6:return a=e.sent,e.abrupt("return",k(a.launchesPast));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function x(){return(x=Object(d.a)(j.a.mark((function e(n){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return t="\n    query {\n      launch(id: ".concat(n,") {\n        ").concat(h,"\n    }\n  }\n  "),e.prev=3,e.next=6,f(t);case 6:return a=e.sent,e.abrupt("return",O(a.launch));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function O(e){var n="https://i.imgur.com/6Cv9SoC.jpg",t=e.links.article_link||e.links.video_link,a=e.links.flickr_images.filter((function(e){return e}));return a.length>0&&(n=a.sort((function(){return.5-Math.random()}))[0]),{details:e.details||"no details yet",name:e.mission_name,image:n,ref_link:t,date:new Date(e.launch_date_local).toDateString(),id:e.id}}function k(e){return e.map((function(e){return O(e)}))}var v=t(7),g=t(1),N=function(e){var n=e.text,t=e.className,a=e.href,c=e.rel,r=e.target,s=e.onClick;return Object(g.jsx)("a",{className:"button "+(t||""),onClick:s,href:a,rel:c,target:r,children:n})},S=(t(26),function(e){var n=e.id,t=e.image,a=e.name,c=e.details,r=e.date,s=e.external_link,i=e.expanded,u=Object(l.f)();return Object(g.jsxs)("div",{onClick:function(){i||u.push("/mission/".concat(n))},className:i?"card expanded":"card",children:[i&&t&&Object(g.jsx)("div",{className:"card-image-container",children:Object(g.jsx)("img",{className:"card-image",src:t,alt:a})}),a&&Object(g.jsx)("h4",{className:"card-name",children:a}),c&&Object(g.jsx)("p",{className:"card-details",children:i?c:Array.from(c).splice(0,120).join("").concat("...")}),r&&Object(g.jsx)("p",{className:"card-date",children:r}),i&&Object(g.jsx)(N,{className:"card-link-button",text:"See more",href:s,rel:"noreferrer",target:"_blank"})]})}),y=(t(35),function(){var e,n=Object(l.g)().id,t=Object(a.useState)({}),c=Object(i.a)(t,2),r=c[0],s=c[1],o=function(){(function(e){return x.apply(this,arguments)})(n).then((function(e){s(e)}))};return Object(a.useEffect)((function(){o()}),[n]),e=r&&Object.keys(r).length>0?Object(g.jsx)(S,{expanded:!0,image:r.image,name:r.name,details:r.details,date:r.date,external_link:r.ref_link}):Object(g.jsx)("p",{children:"Mission not found."}),Object(g.jsxs)("section",{className:"mission-section",children:[Object(g.jsxs)(u.b,{to:"/",className:"button mission-back-btn",children:[Object(g.jsx)(v.a,{}),"back to home"]}),e]})}),_=(t(36),t(37),function(e){var n=e.text,t=e.icon,a=e.type,c=e.className,r=e.onClick;return c="button".concat(" ",c||"").concat(" ",!t||n&&0!==n.length?"":"icon"),Object(g.jsxs)("button",{type:a,className:c,onClick:r,children:[t&&t({}),n]})}),C=t(10),w=t.n(C),q=(t(39),function(e){var n=e.onSubmit,t=e.onClose,c=Object(a.useState)(10),r=Object(i.a)(c,2),s=r[0],u=r[1];return Object(g.jsxs)("form",{onSubmit:n.bind(null,s),className:"search-form",children:[Object(g.jsx)("h4",{children:"Search last launches"}),Object(g.jsx)(_,{icon:v.c,onClick:t,type:"button",className:"close-form-button danger"}),Object(g.jsxs)("label",{children:["Find",Object(g.jsx)("select",{onChange:function(e){var n=parseInt(e.target.value)||0;u(n)},value:s,className:"search-latest-launches",children:function(){for(var e=[],n=10;n<=100;n+=10)e.push(Object(g.jsx)("option",{value:n,children:n},w()()));return e}()}),"last launches"]}),Object(g.jsx)(_,{text:"Search",type:"submit",className:"search-form-button"})]})}),D=(t(40),function(e){var n=e.onSubmit,t=Object(a.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1];return Object(g.jsxs)("header",{children:[Object(g.jsx)("h1",{className:"app-title",children:"Last Launches \ud83d\ude80"}),Object(g.jsx)("p",{className:"app-description",children:"Find out what happened on the latest SpaceX launches. Click on a card to see more"}),r&&Object(g.jsx)(q,{onSubmit:function(e,t){s(!1),t.preventDefault(),n(e)},onClose:function(){s(!1)}}),!r&&Object(g.jsx)(_,{onClick:function(){s(!0)},text:"New search",className:"search-button",icon:v.b})]})}),E=function(e){var n=e.launches.map((function(e){return Object(g.jsx)(S,{id:e.id,expanded:!1,image:e.image,name:e.name,details:e.details,date:e.date,external_link:e.ref_link},w()())}));return 0===n.length?Object(g.jsx)("p",{children:"Loading data..."}):Object(g.jsx)("ul",{className:"card-list",children:n})},J=function(e){var n=e.onSubmit,t=e.launches;return Object(g.jsxs)("section",{className:"dashboard-section",children:[Object(g.jsx)(D,{onSubmit:n}),Object(g.jsx)(E,{launches:t})]})},L=function(){var e=Object(a.useState)(10),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)([]),s=Object(i.a)(r,2),o=s[0],j=s[1];Object(a.useEffect)((function(){j([]),function(e){return m.apply(this,arguments)}(t).then((function(e){return j(e)}))}),[t]);return Object(g.jsx)(u.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(J,{launches:o,onSubmit:function(e){c(e)}})}),Object(g.jsx)(l.a,{path:"/mission/:id",children:Object(g.jsx)(y,{launches:o})})]})})};t(41);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.570f511a.chunk.js.map